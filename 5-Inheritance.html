<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="assets/style.css?t=a44c9e9d">
    <link rel="stylesheet" href="http://ricostacruz.com/docpress-rsc/style.css">
    <script src="assets/script.js?t=2bcc4b59"></script>
    <title>第五章：繼承</title>
    <meta name="viewport" content="width=device-width">
  </head>
  <body class="-menu-visible">
    <div class="doc-layout">
      <div class="toggle menu-toggle js-menu-toggle"></div>
      <div class="body page-5-inheritance">
        <div class="header-nav">
          <div class="right"><a href="https://github.com/MiniaspReading/JavaScript-The_Good_Parts" data-title="MiniaspReading/JavaScript-The_Good_Parts" class="iconlink">
              <!-- span.title Open in GitHub--><span class="icon -github"></span></a>
          </div>
        </div>
        <div class="markdown-body"><h1 id="">&#x7B2C;&#x4E94;&#x7AE0; &#x7E7C;&#x627F;</h1>
<p>&#x5728;&#x985E;&#x5225;&#x7A0B;&#x5F0F;&#x8A9E;&#x8A00;&#x4E2D;&#xFF08;&#x5982; Java&#xFF09;&#xFF0C;&#x7E7C;&#x627F;&#x63D0;&#x4F9B;&#x5169;&#x9805;&#x597D;&#x7528;&#x7684;&#x670D;&#x52D9;&#x3002;</p>
<ul>
<li>&#x539F;&#x59CB;&#x78BC;&#x7684;&#x91CD;&#x8907;&#x518D;&#x5229;&#x7528;&#xFF1A;&#x65B0;&#x7684;&#x985E;&#x5225;&#x5927;&#x81F4;&#x76F8;&#x540C;&#xFF0C;&#x53EA;&#x9808;&#x8A2D;&#x8A08;&#x4E0D;&#x540C;&#x7684;&#x90E8;&#x4EFD;</li>
<li>&#x5305;&#x542B;&#x578B;&#x5225;&#x7CFB;&#x7D71;&#x7684;&#x8A73;&#x7D30;&#x898F;&#x5247;&#xFF1A;&#x5E7E;&#x4E4E;&#x4E0D;&#x9700;&#x8981;&#x64B0;&#x5BEB;&#x660E;&#x78BA;&#x7684;&#x578B;&#x5225;&#x8F49;&#x63DB;</li>
</ul>
<p>JavaScript &#x4F5C;&#x70BA;&#x4E00;&#x500B;&#x5BEC;&#x9B06;&#x7684;&#x8A9E;&#x8A00;&#xFF0C;&#x6C92;&#x6709;&#x578B;&#x5225;&#x7684;&#x8F49;&#x63DB;&#xFF0C;&#x7269;&#x4EF6;&#x7684;&#x4E16;&#x5BB6;&#x5728;&#x6B64;&#x7121;&#x95DC;&#x7DCA;&#x8981;&#xFF0C;&#x91CD;&#x9EDE;&#x5728;&#x65BC;&#x7269;&#x4EF6;&#x7684;&#x80FD;&#x8010;&#xFF0C;&#x800C;&#x4E0D;&#x5728;&#x65BC;&#x7269;&#x4EF6;&#x6709;&#x54EA;&#x4E9B;&#x524D;&#x8F29;&#x3002;
JavaScript &#x53EF;&#x884C;&#x7684;&#x7E7C;&#x627F;&#x6A21;&#x5F0F;&#x975E;&#x5E38;&#x5EE3;&#x6CDB;&#xFF0C;&#x6211;&#x5011;&#x5C07;&#x8A0E;&#x8AD6;&#x6700;&#x7C21;&#x55AE;&#x7684;&#x5E7E;&#x7A2E;&#xFF0C;&#x53E6;&#x5916;&#x96D6;&#x6709;&#x66F4;&#x8907;&#x96DC;&#x7684;&#x7D50;&#x69CB;&#xFF0C;&#x4F46;&#x901A;&#x5E38;&#x6700;&#x597D;&#x4FDD;&#x6301;&#x6A21;&#x5F0F;&#x7684;&#x7C21;&#x55AE;&#x3002;
JavaScript &#x662F;&#x4E00;&#x7A2E;&#x539F;&#x578B;&#x8A9E;&#x8A00;&#xFF0C;&#x4ED6;&#x7684;&#x7269;&#x4EF6;&#x76F4;&#x63A5;&#x7E7C;&#x627F;&#x5176;&#x4ED6;&#x7269;&#x4EF6;&#x3002;</p>
<h2 id="5-1">5-1 &#x64EC;&#x985E;&#x5225;&#x7E7C;&#x627F;&#x6A21;&#x5F0F;</h2>
<p>JavaScript &#x4E26;&#x975E;&#x76F4;&#x63A5;&#x8B93;&#x7269;&#x4EF6;&#x7E7C;&#x627F;&#x7269;&#x4EF6;&#xFF0C;&#x800C;&#x662F;&#x63D2;&#x5165;&#x4E00;&#x5C64;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x9593;&#x63A5;&#x6027;&#x3002;&#x4F7F;&#x7269;&#x4EF6;&#x7531;&#x5EFA;&#x69CB;&#x5F0F;&#xFF08;constructor&#xFF09;&#x7522;&#x751F;&#x3002;<br>
&#x5EFA;&#x7ACB;&#x7269;&#x4EF6;&#x6642;&#xFF0C;&#x7522;&#x751F;&#x51FD;&#x5F0F;&#x7269;&#x4EF6;&#x7684; Function &#x5EFA;&#x69CB;&#x5F0F;&#xFF0C;&#x57F7;&#x884C;&#x985E;&#x4F3C;&#x4E0B;&#x5217;&#x539F;&#x59CB;&#x78BC;&#xFF1A;</p>
<pre><code class="lang-sh"> this.prototype ={constructor: this};
</code></pre>
<p>&#x65B0;&#x7684;&#x7269;&#x4EF6;&#x88AB;&#x7D66;&#x4E88; prototype &#x7279;&#x6027;&#xFF0C;&#x5176;&#x7279;&#x6027;&#x503C;&#x70BA;&#x5305;&#x542B; consrtuctor &#x7279;&#x6027;&#x7684;&#x7269;&#x4EF6;&#xFF0C;&#x800C;&#x9019;&#x500B;&#x7279;&#x6027;&#x7684;&#x503C;&#x5247;&#x662F;&#x65B0;&#x7684;&#x51FD;&#x5F0F;&#x7269;&#x4EF6;&#x3002;
prototype &#x7269;&#x4EF6;&#x662F;&#x5B58;&#x653E;&#x7E7C;&#x627F;&#x7279;&#x8CEA;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x6BCF;&#x500B;&#x51FD;&#x5F0F;&#x6703;&#x62FF;&#x5230;&#x4E00;&#x500B; prototype &#x7269;&#x4EF6;&#xFF0C;&#x56E0;&#x70BA; JavaScript &#x4E26;&#x672A;&#x63D0;&#x4F9B;&#x5224;&#x65B7;&#x7528;&#x65BC;&#x5EFA;&#x69CB;&#x5F0F;&#x7684;&#x51FD;&#x5F0F;&#x9014;&#x5F91;&#x3002;constructor &#x7279;&#x6027;&#x6C92;&#x4EC0;&#x9EBC;&#x7528;&#xFF0C;<strong>&#x771F;&#x6B63;&#x7684;&#x91CD;&#x9EDE;&#x5728; prototype &#x7269;&#x4EF6;</strong>&#x3002;</p>
<p>&#x7576;&#x51FD;&#x5F0F;&#x4F7F;&#x7528;&#x5B57;&#x9996;&#x8A5E; new &#x3001;&#x4EE5;&#x5EFA;&#x69CB;&#x5F0F;&#x547C;&#x53EB;&#x6A21;&#x5F0F;&#x88AB;&#x547C;&#x53EB;&#x6642;&#xFF0C;&#x5373;&#x53EF;&#x8ABF;&#x6574;&#x57F7;&#x884C;&#x51FD;&#x5F0F;&#x7684;&#x65B9;&#x6CD5;&#x3002;</p>
<pre><code class="lang-sh"> Function.method(<span class="pl-s">&apos;new&apos;</span>, <span class="hljs-function"><span class="pl-ent">function</span></span>(){
   // &#x5EFA;&#x7ACB;&#x65B0;&#x7269;&#x4EF6;&#xFF0C;&#x7E7C;&#x627F;&#x81EA;&#x5EFA;&#x69CB;&#x5F0F;&#x7684; prototype
   var that = object.beget(this.prototype);
   
   //&#x547C;&#x53EB;&#x5EFA;&#x69CB;&#x5F0F; &#x7E6B;&#x7D50; this &#x81F3;&#x65B0;&#x7269;&#x4EF6;
   var other = this.apply(that, arguments);
   
   //&#x5982;&#x679C;&#x5B83;&#x56DE;&#x50B3;&#x503C;&#x4E26;&#x975E;&#x7269;&#x4EF6;&#xFF0C;&#x5247;&#x66FF;&#x4EE3;&#x65B0;&#x7684;&#x7269;&#x4EF6;&#x3002;
   
   <span class="pl-c1">return</span> (typeof other === <span class="pl-s">&apos;object&apos;</span> &amp;&amp; other) || that;
 });
</code></pre>
<p>&#x6211;&#x5011;&#x53EF;&#x4EE5;&#x5B9A;&#x7FA9;&#x5EFA;&#x69CB;&#x5F0F;&#xFF0C;&#x4EE5;&#x53CA;&#x64F4;&#x5C55;&#x4ED6;&#x7684; prototype :</p>
<pre><code class="lang-sh"> var Mammal = <span class="pl-k">function</span> (name){
     this.name = name;
 };
 
 Mammal.prototype.get_name = <span class="hljs-function"><span class="pl-ent">function</span></span> () {
     <span class="pl-c1">return</span> this.name;
 };
 
 Mammal.prototype.says = <span class="hljs-function"><span class="pl-ent">function</span></span> (){
     <span class="pl-c1">return</span> this.saying || <span class="pl-s">&apos;&apos;</span>;
 };
 
 //&#x5BE6;&#x505A;
 var myMammal = new Mammal(<span class="pl-s">&apos;Hreb the Mammal&apos;</span>);
 var name = myMammal.get_name();  // <span class="pl-s">&apos;Hreb the Mammal&apos;</span> 
</code></pre>
<p>&#x6211;&#x5011;&#x53EF;&#x4EE5;&#x88FD;&#x4F5C;&#x53E6;&#x4E00;&#x500B;&#x7E7C;&#x627F; Mammal &#x7684;&#x64EC;&#x985E;&#x5225;&#xFF0C;&#x900F;&#x904E;&#x5B9A;&#x7FA9;&#x64EC;&#x985E;&#x5225;&#x7684; constructor &#x51FD;&#x5F0F;&#xFF0C;&#x4EE5;&#x53CA;&#x7528; Mammal &#x7684;&#x5BE6;&#x4F8B;&#x53BB;&#x4EE3;&#x4ED6;&#x7684; prorotype&#x3002;</p>
<pre><code class="lang-sh"> var Cat = <span class="pl-k">function</span> (name){
     this.name = name;
     this.saying = <span class="pl-s">&apos;meow&apos;</span>;
 };
 
 // &#x4EE5; Mammal &#x7684;&#x65B0;&#x5BE6;&#x4F8B;&#x53D6;&#x4EE3; Cat.prototype
 
 Cat.prototype.purr = <span class="pl-k">function</span> (n){
     var i, s =<span class="pl-s">&apos;&apos;</span>;
     <span class="pl-k">for</span> (i = 0; i &lt; n, i +=1){
         <span class="pl-k">if</span> (s){
            s += <span class="pl-s">&apos;-&apos;</span>;
         }
         s += <span class="pl-s">&apos;r&apos;</span>;
     }
     <span class="pl-c1">return</span> s;
 };
 
 cat.prorotype.get_name = <span class="hljs-function"><span class="pl-ent">function</span></span> (){
     <span class="pl-c1">return</span> this.says() + <span class="pl-s">&apos; &apos;</span> + this.name + <span class="pl-s">&apos; &apos;</span> + this.says();  
 };
 
 var myCat = new Cat(<span class="pl-s">&apos;Henrietta&apos;</span>);  
 var says = myCat.says(); // <span class="pl-s">&apos;meow&apos;</span>
 var purr = myCat.purr(5);  // <span class="pl-s">&apos;r-r-r-r-r&apos;</span>
 var name = myCat.get_name(); // <span class="pl-s">&apos;meow Henrietta meow&apos;</span>
</code></pre>
<p>&#x539F;&#x672C;&#x5E0C;&#x671B;&#x64EC;&#x985E;&#x5225;&#x6A21;&#x5F0F;&#x80FD;&#x8B93; JavaScript &#x770B;&#x8D77;&#x4F86;&#x50CF;&#x7269;&#x4EF6;&#x5C0E;&#x5411;&#xFF0C;&#x5BE6;&#x969B;&#x4E0A;&#x537B;&#x600E;&#x9EBC;&#x770B;&#x600E;&#x9EBC;&#x602A;&#x3002;&#x900F;&#x904E;&#x4F7F;&#x7528; method &#x65B9;&#x6CD5;&#xFF0C;&#x4E26;&#x5B9A;&#x7FA9; inherites &#x65B9;&#x6CD5;&#xFF0C;&#x53EF;&#x96B1;&#x85CF;&#x90E8;&#x4EFD;&#x7684;&#x919C;&#x964B;&#x3002;</p>
<pre><code class="lang-sh">Function.method(<span class="pl-s">&apos;inherites&apos;</span>,<span class="pl-k">function</span> (Parent){
     this.prototype = new Parent();
     <span class="pl-c1">return</span> this;
});

</code></pre>
<p>&#x73FE;&#x5728;&#x53EF;&#x4EE5;&#x53EA;&#x7528;&#x4E00;&#x884C;&#x6558;&#x8FF0;&#xFF0C;&#x88FD;&#x9020;&#x6211;&#x5011;&#x7684; Cat :</p>
<pre><code class="lang-sh"> var car = <span class="pl-k">function</span> (name){
     this.name = name;
     this.saying = <span class="pl-s">&apos;meow&apos;</span>;
 }.
 inherites(Mammal).
 method(<span class="pl-s">&apos;purr&apos;</span>,<span class="pl-k">function</span> (m){
    var i, s =<span class="pl-s">&apos;&apos;</span>;
    <span class="pl-k">for</span> (i = 0 ;i &lt; n; i += i){
       <span class="pl-k">if</span> (s){
           s += <span class="pl-s">&apos;-&apos;</span>;
       }
       s += <span class="pl-s">&apos;r&apos;</span>;
    }
      <span class="pl-c1">return</span> s;
 }).
 method(<span class="pl-s">&apos;get_name&apos;</span>,<span class="hljs-function"><span class="pl-ent">function</span></span> (){
      <span class="pl-c1">return</span> this.says() + <span class="pl-s">&apos; &apos;</span> + this.name + <span class="pl-s">&apos; &apos;</span> + this.says(); 
 });
</code></pre>
<p>&#x85C9;&#x7531;&#x96B1;&#x85CF; prototype &#x539F;&#x59CB;&#x78BC;&#x770B;&#x8D77;&#x4F86;&#x6C92;&#x90A3;&#x9EBC;&#x8A6D;&#x7570;&#x4E86;&#x3002;&#x9019;&#x88E1;&#x6C92;&#x6709; privacy&#xFF0C;&#x6240;&#x6709;&#x7684;&#x7279;&#x6027;&#x90FD;&#x662F; public &#x3002;&#x6C92;&#x6709;&#x53D6;&#x7528; super &#x65B9;&#x6CD5;&#x7684;&#x9014;&#x5F91;&#x3002;<br>
&#x66F4;&#x7CDF;&#x7CD5;&#x7684;&#x662F;&#xFF0C;&#x4F7F;&#x7528;&#x5EFA;&#x69CB;&#x5F0F;&#xFF0C;&#x5982;&#x679C;&#x6C92;&#x6709;&#x52A0;&#x4E0A;&#x5B57;&#x9996;&#x8A5E; new , this &#x4E0D;&#x6703;&#x7E6B;&#x7D50;&#x81F3;&#x65B0;&#x7269;&#x4EF6;&#xFF0C;this &#x5C07;&#x6703;&#x7E6B;&#x7D50;&#x5168;&#x57DF;&#x8B8A;&#x6578;&#xFF0C;&#x4E0D;&#x6703;&#x6709;&#x7DE8;&#x8B6F;&#x8B66;&#x544A;&#xFF0C;&#x4E5F;&#x4E0D;&#x6703;&#x6709;&#x57F7;&#x884C;&#x932F;&#x8AA4;&#x8B66;&#x544A;&#x3002;<br>
&#x70BA;&#x4E86;&#x7DE9;&#x89E3;&#x6B64;&#x554F;&#x984C;&#xFF0C;&#x7FD2;&#x6163;&#x628A;&#x6240;&#x6709;&#x5EFA;&#x69CB;&#x5F0F;&#x4EE5;&#x9996;&#x5B57;&#x6BCD;&#x5927;&#x5BEB;&#x7684;&#x683C;&#x5F0F;&#x547D;&#x540D;&#xFF0C;&#x6B64;&#x5916;&#x6C92;&#x6709;&#x5176;&#x4ED6;&#x7684;&#x6771;&#x897F;&#x7684;&#x540D;&#x7A31;&#x63A1;&#x53D6;&#x9996;&#x5B57;&#x6BCD;&#x5927;&#x5BEB;&#x7684;&#x683C;&#x5F0F;&#xFF0C;&#x5E0C;&#x671B;&#x6709;&#x4E86;&#x8996;&#x89BA;&#x4E0A;&#x7684;&#x5BE9;&#x67E5;&#xFF0C;&#x53EF;&#x4EE5;&#x627E;&#x51FA;&#x7F3A;&#x5C11;&#x7684; new &#x3002;</p>
<h2 id="5-2">5-2 &#x7269;&#x4EF6;&#x898F;&#x683C;&#x5668;&#x7E7C;&#x627F;&#x6A21;&#x5F0F;</h2>
<p>&#x6709;&#x6642;&#x5019;&#xFF0C;&#x5EFA;&#x69CB;&#x5F0F;&#x88AB;&#x8CE6;&#x4E88;&#x975E;&#x5E38;&#x591A;&#x7684;&#x53C3;&#x6578;&#xFF0C;&#x9019;&#x4E9B;&#x5F15;&#x6578;&#x7684;&#x9806;&#x5E8F;&#x5C07;&#x4E0D;&#x592A;&#x5BB9;&#x6613;&#x8A18;&#x5F97;&#xFF0C;&#x9019;&#x6642;&#x53EF;&#x4EE5;&#x64B0;&#x5BEB;<strong>&#x55AE;&#x4E00;&#x7269;&#x4EF6;&#x898F;&#x683C;&#x5668;</strong>&#xFF08;object sperifier&#xFF09;&#x7684;&#x5EFA;&#x69CB;&#x5F0F;&#x5C07;&#x8F03;&#x70BA;&#x53CB;&#x5584;&#x3002;<br>
&#x539F;&#x672C;&#xFF1A;</p>
<pre><code class="lang-sh">var myObject = maker(f,1,m,c,s);
</code></pre>
<p>&#x6539;&#x5BEB;&#x6210;&#xFF1A;</p>
<pre><code class="lang-sh">  var myObject = maker ({
      first : f,
      last : 1,
      state : s,
      city : c
  });
</code></pre>
<p>&#x5F15;&#x6578;&#x73FE;&#x5728;&#x80FD;&#x4EE5;&#x4EFB;&#x4F55;&#x9806;&#x5E8F;&#x5217;&#x51FA;&#xFF0C;&#x539F;&#x59CB;&#x78BC;&#x4E5F;&#x5BB9;&#x6613;&#x7406;&#x89E3;&#x3002;&#x5982;&#x679C;&#x5EFA;&#x69CB;&#x5F0F;&#x63A5;&#x53D7;&#x7269;&#x4EF6;&#x898F;&#x683C;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x7C21;&#x55AE;&#x7684;&#x628A; JSON &#x7269;&#x4EF6;&#x50B3;&#x9001;&#x7D66;&#x5EFA;&#x69CB;&#x5F0F;&#xFF0C;&#x800C;&#x5F8C;&#x5C07;&#x6703;&#x56DE;&#x50B3;&#x5B8C;&#x6574;&#x7D44;&#x6210;&#x7684;&#x7269;&#x4EF6;&#x3002;</p>
<h2 id="5-3">5-3 &#x539F;&#x578B;&#x7E7C;&#x627F;&#x6A21;&#x5F0F;</h2>
<p>&#x4E00;&#x500B;&#x65B0;&#x7269;&#x4EF6;&#x80FD;&#x7E7C;&#x627F;&#x73FE;&#x6709;&#x7269;&#x4EF6;&#x7684;&#x7279;&#x6027;&#x3002;&#x525B;&#x958B;&#x59CB;&#x88FD;&#x4F5C;&#x4E00;&#x500B;&#x6709;&#x7528;&#x7684;&#x7269;&#x4EF6;&#xFF0C;&#x7136;&#x5F8C;&#x5C31;&#x80FD;&#x88FD;&#x4F5C;&#x66F4;&#x591A;&#x50CF;&#x5B83;&#x7684;&#x7269;&#x4EF6;&#xFF0C;&#x5982;&#x6B64;&#x53EF;&#x4EE5;&#x907F;&#x514D;&#x300E;&#x628A;&#x4E00;&#x500B;&#x61C9;&#x7528;&#x7A0B;&#x5F0F;&#x5206;&#x89E3;&#x70BA;&#x5DE2;&#x72C0;&#x62BD;&#x8C61;&#x985E;&#x5225;&#x300F;&#x7684;&#x5206;&#x985E;&#x904E;&#x7A0B;&#x3002;</p>
<pre><code class="lang-sh">//&#x4F7F;&#x7528;&#x7269;&#x4EF6;&#x5BE6;&#x5B57;&#xFF0C;&#x88FD;&#x4F5C;&#x6709;&#x7528;&#x7684;&#x7269;&#x4EF6;&#x958B;&#x59CB;
var myMammal = {
    name = <span class="pl-s">&apos;Herb the Mammal&apos;</span>,
    get_name : <span class="hljs-function"><span class="pl-ent">function</span></span>(){
         <span class="pl-c1">return</span> this.name;
    },
    says : <span class="hljs-function"><span class="pl-ent">function</span></span>(){
         <span class="pl-c1">return</span> this.saying || <span class="pl-s">&apos;&apos;</span>;
    }
};
</code></pre>
<p>&#x6709;&#x4E86;&#x7406;&#x60F3;&#x7684;&#x7269;&#x4EF6;&#x5F8C;&#xFF0C;&#x5373;&#x53EF;&#x4F7F;&#x7528;&#x7B2C;&#x4E09;&#x7AE0;&#x7684; object.beget &#x65B9;&#x6CD5;&#x88FD;&#x4F5C;&#x66F4;&#x591A;&#x5BE6;&#x4F8B;&#x3002;</p>
<pre><code class="lang-sh">  var myCat = object.beget(myMammal);
  myCat.name = <span class="pl-s">&apos;Henrietta&apos;</span>;
  myCat.saying = <span class="pl-s">&apos;meow&apos;</span>;
  myCat.purr = <span class="pl-k">function</span> (n){
      var i, s =<span class="pl-s">&apos;&apos;</span>;
      <span class="pl-k">for</span> (i = 0 ;i &lt; n; i += i){
        <span class="pl-k">if</span> (s){
            s += <span class="pl-s">&apos;-&apos;</span>;
        }
         s += <span class="pl-s">&apos;r&apos;</span>;
        }
      <span class="pl-c1">return</span> s;
  };
  
  myCat.get_name = <span class="hljs-function"><span class="pl-ent">function</span></span> (){
     <span class="pl-c1">return</span> this.says() + <span class="pl-s">&apos; &apos;</span> + this.name + <span class="pl-s">&apos; &apos;</span> + this.says(); 
  };
</code></pre>
<p>&#x9019;&#x662F;<strong>&#x5DEE;&#x5225;&#x7E7C;&#x627F;</strong>(defferential inheritance)&#x3002;&#x81EA;&#x8A02;&#x65B0;&#x7269;&#x4EF6;&#x6642;&#xFF0C;&#x6307;&#x51FA;&#x5B83;&#x8207;&#x6839;&#x57FA;&#x820A;&#x7269;&#x4EF6;&#x7684;&#x5DEE;&#x5225;&#x3002;</p>
<h2 id="5-4">5-4 &#x51FD;&#x5F0F;&#x7E7C;&#x627F;&#x6A21;&#x5F0F;</h2>
<p>&#x76EE;&#x524D;&#x6211;&#x5011;&#x770B;&#x5230;&#x7684;&#x7E7C;&#x627F;&#x6A21;&#x5F0F;&#xFF0C;&#x6709;&#x500B;&#x7F3A;&#x4E4F;&#x96B1;&#x79C1;&#xFF08;privacy&#xFF09;&#x7684;&#x7F3A;&#x9EDE;&#xFF0C;&#x7269;&#x4EF6;&#x4E2D;&#x6240;&#x6709;&#x7684;&#x7279;&#x6027;&#x90FD;&#x80FD;&#x770B;&#x5F97;&#x5230;&#x3002;&#x6211;&#x5011;&#x6C92;&#x6709; private &#x8B8A;&#x6578;&#x6216;&#x65B9;&#x6CD5;&#x3002;<br>
&#x5F9E;&#x7269;&#x4EF6;&#x4E00;&#x500B;&#x7269;&#x4EF6;&#xFF0C;&#x9996;&#x5B57;&#x6BCD;&#x4E0D;&#x8981;&#x5927;&#x5BEB;&#xFF0C;&#x51FD;&#x5F0F;&#x4E2D;&#x5305;&#x62EC;&#x56DB;&#x500B;&#x6B65;&#x9A5F;&#xFF1A;</p>
<ul>
<li>&#x5EFA;&#x7ACB;&#x65B0;&#x7269;&#x4EF6;</li>
<li>&#x9078;&#x64C7;&#x6027;&#x7684;&#x5B9A;&#x7FA9; private &#x5BE6;&#x4F8B;&#x8B8A;&#x6578;&#x8207;&#x65B9;&#x6CD5;&#x3002;&#x51FD;&#x5F0F;&#x53EA;&#x6709;&#x50B3;&#x7D71;&#x7684; var</li>
<li>&#x4EE5;&#x4E0A;&#x8FF0;&#x6B65;&#x9A5F;&#x70BA;&#x7269;&#x4EF6;&#x64F4;&#x5145;&#x65B9;&#x6CD5;&#x3002;&#x9019;&#x4E9B;&#x65B9;&#x6CD5;&#x5C0D;&#x53C3;&#x6578;&#x548C; var &#x5B9A;&#x7FA9;&#x7684;&#x4E8B;&#x7269;&#x6709;&#x512A;&#x5148;&#x5B58;&#x53D6;&#x6B0A;&#x3002;</li>
<li>&#x56DE;&#x50B3;&#x65B0;&#x7269;&#x4EF6;&#x3002;</li>
</ul>
<p>&#x4E0B;&#x5217;&#x70BA;&#x51FD;&#x5F0F;&#x7684;&#x5EFA;&#x69CB;&#x5F0F;&#x865B;&#x64EC;&#x6A23;&#x677F;</p>
<pre><code class="lang-sh">var constructor = <span class="pl-k">function</span> (spec,my){
    //other provate instance variables
    var that, my = my || {};
    
    //Add shared variables and <span class="pl-c1">functions</span> to my
    
    that = a new object;
    
    //add privileged method to that
     
    <span class="pl-c1">return</span> that; 
}
</code></pre>
<p>spec &#x7269;&#x4EF6;&#x5305;&#x542B;&#x6240;&#x4EE5;&#x6709;&#x5EFA;&#x69CB;&#x5F0F;&#x88FD;&#x4F5C;&#x5BE6;&#x4F8B;&#x6240;&#x9700;&#x7684;&#x8CC7;&#x8A0A;&#xFF0C;spec &#x7684;&#x5167;&#x5BB9;&#x53EF;&#x88AB;&#x8907;&#x88FD;&#x5230; private &#x8B8A;&#x6578;&#x4E2D;&#xFF0C;&#x6216;&#x88AB;&#x5176;&#x4ED6;&#x51FD;&#x5F0F;&#x8F49;&#x63DB;&#x3002;&#x6216;&#x8005;&#xFF0C;&#x65B9;&#x6CD5;&#x4E5F;&#x80FD;&#x5728;&#x9700;&#x8981;&#x6642;&#x5B58;&#x53D6; spec &#x7269;&#x4EF6;&#x7684;&#x8CC7;&#x8A0A;&#x3002;&#xFF08;&#x7C21;&#x5316;&#x65B9;&#x5F0F;&#x5247;&#x662F;&#x7528;&#x55AE;&#x4E00;&#x76F4;&#x53D6;&#x4EE3; spec &#x7576;&#x5EFA;&#x69CB;&#x7684;&#x7269;&#x4EF6;&#x4E0D;&#x9700;&#x8981;&#x6574;&#x500B; spec &#x7269;&#x4EF6;&#xFF0C;&#x7C21;&#x5316;&#x65B9;&#x5F0F;&#x5C31;&#x5F88;&#x6709;&#x7528;&#x3002;&#xFF09;<br>
my &#x7269;&#x4EF6;&#x662F;&#x7955;&#x5BC6;&#x8CC7;&#x8A0A;&#x5BB9;&#x5668;&#xFF0C;&#x7955;&#x5BC6;&#x8CC7;&#x8A0A;&#x7531;&#x7E7C;&#x627F;&#x934A;&#x4E0A;&#x7684;&#x5EFA;&#x69CB;&#x5F0F;&#x5171;&#x4EAB;&#x3002;my &#x7269;&#x4EF6;&#x70BA;&#x9078;&#x7528;&#xFF0C;&#x5982;&#x679C;&#x672A;&#x50B3;&#x9001; my &#x7269;&#x4EF6;&#xFF0C;&#x5247;&#x88FD;&#x4F5C;&#x4E00;&#x500B; my &#x7269;&#x4EF6;&#x3002;</p>
<p>&#x63A5;&#x4E0B;&#x4F86;&#x5BA3;&#x544A;&#x7269;&#x4EF6;&#x7684; private &#x5BE6;&#x4F8B;&#x8B8A;&#x6578;&#x8207; private &#x65B9;&#x6CD5;&#xFF1A;<strong>&#x53EA;&#x9808;&#x5BA3;&#x544A;&#x8B8A;&#x6578;&#x5373;&#x5B8C;&#x6210;</strong>&#x3002;&#x5EFA;&#x69CB;&#x5F0F;&#x7684;&#x8B8A;&#x6578;&#x548C;&#x5167;&#x5C64;&#x51FD;&#x5F0F;&#xFF0C;&#x8B8A;&#x6210;&#x5BE6;&#x4F8B;&#x7684; private &#x6210;&#x54E1;&#x3002;&#x5167;&#x5C64;&#x51FD;&#x5F0F;&#x5C0D; spec&#x3001;my&#x3001;that&#xFF0C;&#x4EE5;&#x53CA; private &#x8B8A;&#x6578;&#x5177;&#x6709;&#x5B58;&#x53D6;&#x6B0A;&#x3002;<br>
&#x7136;&#x5F8C;&#x52A0;&#x5165;&#x5171;&#x4EAB;&#x6728;&#x5BC6;&#x8CC7;&#x8A0A;&#x5230; my &#x7269;&#x4EF6;&#x4E2D;&#x3002;</p>
<pre><code class="lang-sh"> my.member = value;
</code></pre>
<p>&#x73FE;&#x5728;&#xFF0C;&#x88FD;&#x4F5C;&#x4E86;&#x4E00;&#x500B;&#x65B0;&#x7269;&#x4EF6;&#xFF0C;&#x4E26;&#x81F3;&#x6D3E;&#x7D66; that&#x3002;&#x88FD;&#x4F5C;&#x65B0;&#x7269;&#x4EF6;&#x6709;&#x5F88;&#x591A;&#x65B9;&#x5F0F;&#x3002;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7269;&#x4EF6;&#x5BE6;&#x5B57;;&#x53EF;&#x4EE5;&#x547C;&#x53EB;&#x5229;&#x7528; new &#x904B;&#x7B97;&#x5B50;&#x7684;&#x64EC;&#x985E;&#x5225;&#x5EFA;&#x69CB;&#x5F0F;;&#x53EF;&#x4EE5;&#x5728;&#x539F;&#x578B;&#x7269;&#x4EF6;&#x4E0A;&#x4F7F;&#x7528; Object.beget &#x65B9;&#x6CD5;&#x3002;&#x6216;&#x8005;&#x6211;&#x5011;&#x53EF;&#x4EE5;&#x547C;&#x53EB;&#x53E6;&#x4E00;&#x500B;&#x5EFA;&#x69CB;&#x5F0F;&#xFF0C;&#x50B3;&#x7D66;&#x5B83;&#x4E00;&#x500B; spec &#x7269;&#x4EF6;&#x548C; my &#x7269;&#x4EF6;&#x3002;<br>
&#x4E0B;&#x4E00;&#x6B65;&#x662F;&#x64F4;&#x5C55; that&#xFF0C;&#x52A0;&#x5165;&#x88FD;&#x4F5C;&#x7269;&#x4EF6;&#x4ECB;&#x9762;&#x7684;&#x512A;&#x5148;&#x65B9;&#x6CD5;&#x3002;&#x6211;&#x5011;&#x53EF;&#x4EE5;&#x6307;&#x6D3E;&#x65B0;&#x7684;&#x51FD;&#x5F0F;&#x7D66; that &#x7684;&#x6210;&#x54E1;&#x3002;&#x6216;&#x63A1;&#x7528;&#x66F4;&#x5B89;&#x5168;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x5148;&#x628A;&#x51FD;&#x5F0F;&#x5B9A;&#x7FA9;&#x70BA; private &#x65B9;&#x6CD5;&#xFF0C;&#x5728;&#x6307;&#x6D3E;&#x7D66; that:</p>
<pre><code class="lang-sh">vat methodical = <span class="hljs-function"><span class="pl-ent">function</span></span> (){
     .......
};
that.methodical = methodical;
</code></pre>
<p>&#x4F7F;&#x7528;&#x5169;&#x500B;&#x6B65;&#x9A5F;&#x5B9A;&#x7FA9; methodical &#x7684;&#x597D;&#x8655;&#xFF0C;&#x5728;&#x65BC;&#x5176;&#x4ED6;&#x65B9;&#x6CD5;&#x82E5;&#x60F3;&#x547C;&#x53EB;&#xFF0C;&#x53EF;&#x76F4;&#x63A5;&#x547C;&#x53EB; methodical()&#xFF0C;&#x800C;&#x4E0D;&#x662F; that.methodical()&#x3002;&#x5982;&#x679C;&#x5BE6;&#x4F8B;&#x640D;&#x58DE;&#x6216;&#x7AC4;&#x6539;&#x4E86;&#x88AB;&#x53D6;&#x4EE3;&#x7684; that.methodical&#xFF0C;&#x547C;&#x53EB; methodical &#x7684;&#x65B9;&#x6CD5;&#x4ECD;&#x53EF;&#x540C;&#x6A23;&#x904B;&#x4F5C;&#x3002;<br>
&#x6700;&#x5F8C;&#x56DE;&#x50B3; that &#x3002;</p>
<p>&#x628A;&#x9019;&#x7A2E;&#x6A21;&#x5F0F;&#x5957;&#x7528;&#x5230; mammal &#x7BC4;&#x4F8B;&#x4E2D;&#xFF0C;&#x6B64;&#x6642;&#x4E0D;&#x9700;&#x8981; my&#xFF0C;&#x55AE;&#x7D14;&#x7701;&#x7565;&#x5B83;&#x3002;name &#x8207; saying &#x7279;&#x6027;&#xFF0C;&#x73FE;&#x5728;&#x90FD;&#x5B8C;&#x5168;&#x7684; private&#xFF0C;&#x53EA;&#x80FD;&#x900F;&#x904E;&#x7279;&#x8A31;&#x7684; get_name &#x8207; says &#x65B9;&#x6CD5;&#x53D6;&#x7528;&#x3002;</p>
<pre><code class="lang-sh">var mammal = <span class="pl-k">function</span> (spec){
    var that = {};
    
    that.get_name = <span class="hljs-function"><span class="pl-ent">function</span></span> (){
         <span class="pl-c1">return</span> spec.name;
    };
    
    that.says = <span class="hljs-function"><span class="pl-ent">function</span></span> () {
         <span class="pl-c1">return</span> spec.saying || <span class="pl-s">&apos;&apos;</span>;
    };
    
    <span class="pl-c1">return</span> that;
};

var myMammal = mammal({name:<span class="pl-s">&apos;Herb&apos;</span>});
</code></pre>
<p>&#x5728;&#x64EC;&#x985E;&#x5225;&#x6A21;&#x5F0F;&#x88E1;&#xFF0C;Cat &#x5EFA;&#x69CB;&#x5F0F;&#x5FC5;&#x9808;&#x8907;&#x88FD; Mammal &#x5EFA;&#x69CB;&#x5F0F;&#x5DF2;&#x7D93;&#x5B8C;&#x6210;&#x7684;&#x5DE5;&#x4F5C;&#x3002;&#x4F46;&#x5728;&#x51FD;&#x5F0F;&#x6A21;&#x5F0F;&#x88E1;&#xFF0C;&#x5247;&#x4E0D;&#x9700;&#x8981;&#x9019;&#x6A23;&#x505A;&#x3002;<strong>&#x56E0;&#x70BA; Cat &#x5EFA;&#x69CB;&#x5F0F;&#x5C07;&#x547C;&#x53EB; Mammal &#x5EFA;&#x69CB;&#x5F0F;&#xFF0C;&#x8B93;&#x5F8C;&#x8005;&#x8CA0;&#x8CAC;&#x5927;&#x90E8;&#x5206;&#x7269;&#x4EF6;&#x5EFA;&#x8A2D;&#x5DE5;&#x4F5C;&#xFF0C;Cat &#x5247;&#x53EA;&#x9700;&#x95DC;&#x5FC3;&#x6709;&#x5DEE;&#x7570;&#x7684;&#x5730;&#x65B9;</strong>&#x3002;</p>
<pre><code class="lang-sh"> var cat = <span class="pl-k">function</span> (spec){
     spec.saying = spec.saying || <span class="pl-s">&apos;meow&apos;</span>;
     vat that = mammal(spec);
     that.purr = <span class="pl-k">function</span> (n){
        var i, s =<span class="pl-s">&apos;&apos;</span>;
      <span class="pl-k">for</span> (i = 0 ;i &lt; n; i += i){
        <span class="pl-k">if</span> (s){
            s += <span class="pl-s">&apos;-&apos;</span>;
        }
         s += <span class="pl-s">&apos;r&apos;</span>;
        }
      <span class="pl-c1">return</span> s;
     };
     that.get_name = <span class="hljs-function"><span class="pl-ent">function</span></span> (){
         <span class="pl-c1">return</span> this.says() + <span class="pl-s">&apos; &apos;</span> + this.name + <span class="pl-s">&apos; &apos;</span> + this.says(); 
     };
     <span class="pl-c1">return</span> that;
 };
 
 var myCat = cat({name:<span class="pl-s">&apos;Henrietta&apos;</span>});
</code></pre>
<p>&#x51FD;&#x5F0F;&#x6A21;&#x5F0F;&#x4E5F;&#x7D66;&#x6211;&#x5011;&#x8655;&#x88E1; super &#x65B9;&#x6CD5;&#x7684;&#x65B9;&#x5F0F;&#x3002;&#x6211;&#x5011;&#x5C07;&#x88FD;&#x4F5C;&#x4E00;&#x500B; superior &#x65B9;&#x6CD5;&#xFF0C;<strong>&#x63A5;&#x6536;&#x65B9;&#x6CD5;&#x540D;&#x7A31;&#xFF0C;&#x4E26;&#x56DE;&#x50B3;&#x547C;&#x53EB;&#x8A72;&#x65B9;&#x6CD5;&#x7684;&#x51FD;&#x5F0F;</strong>&#x3002;&#x5373;&#x4F7F;&#x6539;&#x8B8A;&#x7279;&#x6027;&#xFF0C;&#x51FD;&#x5F0F;&#x4E5F;&#x5C07;&#x547C;&#x53EB;&#x539F;&#x59CB;&#x65B9;&#x6CD5;&#xFF1A;</p>
<pre><code class="lang-sh">  Object.method(<span class="pl-s">&apos;superior&apos;</span>,<span class="pl-k">function</span> (name){
     var that = this,
         method = that[name];
     <span class="pl-c1">return</span> <span class="hljs-function"><span class="pl-ent">function</span></span> () {
         <span class="pl-c1">return</span> method.apply(that, arguments);
     };    
  });
</code></pre>
<p>&#x6211;&#x5011;&#x7528; coolcat &#x8A66;&#x8A66;&#x770B;&#xFF0C;&#x5B83;&#x5C31;&#x50CF; cat &#xFF0C;&#x53EA;&#x4E0D;&#x904E;&#x6BD4;&#x8F03;&#x9177;&#x3001;&#x547C;&#x53EB; super &#x65B9;&#x6CD5;&#x7684; get_name &#x65B9;&#x6CD5;&#x3002;&#x6211;&#x5011;&#x5C07;&#x5BA3;&#x544A;&#x4E00;&#x500B; super_get_name &#x8B8A;&#x6578;&#xFF0C;&#x4E26;&#x547C;&#x53EB; superior &#x65B9;&#x6CD5;&#x7684;&#x7D50;&#x679C;&#x6307;&#x6D3E;&#x7D66;&#x5B83;&#xFF1A;</p>
<pre><code class="lang-sh"> var coolcat = <span class="pl-k">function</span> (spec){
     var that = cat(spec),
         super_get_name = that.superior(<span class="pl-s">&apos;get_name&apos;</span>);
     that.get_name = <span class="pl-k">function</span> (n){
         <span class="pl-c1">return</span> <span class="pl-s">&apos;like &apos;</span> + super_get_name () + <span class="pl-s">&apos; baby&apos;</span>;
     };    
     
     <span class="pl-c1">return</span> that;
 };
 var myCoolCat = coolcat({name : <span class="pl-s">&apos;Bix&apos;</span>});
 var nemt = myCoolCat.get_name(); // <span class="pl-s">&apos;like meow Bix meow baby&apos;</span>
 
</code></pre>
<p>&#x51FD;&#x5F0F;&#x6A21;&#x5F0F;&#x5177;&#x6709;&#x6700;&#x4F73;&#x5F48;&#x6027;&#xFF0C;&#x5B83;&#x6BD4;&#x64EC;&#x985E;&#x5225;&#x6A21;&#x5F0F;&#x9700;&#x8981;&#x7684;&#x5DE5;&#x4F5C;&#x91CF;&#x66F4;&#x5C11;&#xFF0C;&#x800C;&#x4E14;&#x7D66;&#x6211;&#x5011;&#x66F4;&#x597D;&#x7684;&#x6982;&#x62EC;&#x8207;&#x8CC7;&#x8A0A;&#x96B1;&#x85CF;&#xFF0C;&#x4EE5;&#x53CA;&#x5C0D; super &#x65B9;&#x6CD5;&#x7684;&#x5B58;&#x53D6;&#x3002;</p>
<p>&#x5982;&#x679C;&#x7269;&#x4EF6;&#x7684;&#x6240;&#x6709;&#x72C0;&#x614B;&#x90FD;&#x662F; private &#xFF0C;&#x9019;&#x500B;&#x7269;&#x4EF6;&#x5C31;&#x53EF;&#x4EE5;&#x9632;&#x6B62;&#x640D;&#x5BB3;&#x3002;&#x7269;&#x4EF6;&#x7684;&#x7279;&#x6027;&#x80FD;&#x88AB;&#x53D6;&#x4EE3;&#x6216;&#x522A;&#x9664;&#xFF0C;&#x4F46;&#x7269;&#x4EF6;&#x7684;&#x6574;&#x9AD4;&#x6027;&#x4E0D;&#x53D7;&#x59A5;&#x5354;&#x3002;&#x5982;&#x679C;&#x6211;&#x5011;&#x7528;&#x51FD;&#x5F0F;&#x98A8;&#x683C;&#x5EFA;&#x7ACB;&#x7269;&#x4EF6;&#xFF0C;&#x800C;&#x4E14;&#x6240;&#x6709;&#x7269;&#x4EF6;&#x88E1;&#x7684;&#x65B9;&#x6CD5;&#x90FD;&#x4E0D;&#x4F7F;&#x7528;this &#x6216; that &#xFF0C;&#x5247;&#x8A72;&#x7269;&#x4EF6;&#x70BA;<strong>&#x6301;&#x4E45;&#x7684;</strong>&#xFF08;durable&#xFF09;&#x3002;&#x4E00;&#x500B;&#x6301;&#x4E45;&#x8010;&#x7528;&#x7684;&#x7269;&#x4EF6;&#xFF0C;&#x662F;&#x4E00;&#x7D44;&#x51FD;&#x5F0F;&#x7684;&#x96C6;&#x5408;&#xFF0C;&#x5176;&#x51FD;&#x5F0F;&#x7684;&#x884C;&#x70BA;&#x50CF;&#x662F; capablity &#x3002;</p>
<h2 id="5-5">5-5 &#x96F6;&#x4EF6;&#x7E7C;&#x627F;&#x6A21;&#x5F0F;</h2>
<p>&#x7528;&#x4E00;&#x7D44;&#x96F6;&#x4EF6;&#xFF0C;&#x53EF;&#x4EE5;&#x7D44;&#x5408;&#x51FA;&#x7269;&#x4EF6;&#x3002;&#x4F8B;&#x5982;&#x8AAA;&#xFF0C;&#x6211;&#x5011;&#x53EF;&#x4EE5;&#x70BA;&#x4EFB;&#x4F55;&#x7269;&#x4EF6;&#x88FD;&#x4F5C;&#x4E00;&#x500B;&#x52A0;&#x5165;&#x7C21;&#x6613;&#x4E8B;&#x4EF6;&#x8655;&#x88E1;&#x529F;&#x80FD;&#x7684;&#x51FD;&#x5F0F;&#x3002;&#x5B83;&#x6703;&#x589E;&#x52A0;&#x4E00;&#x500B; on &#x65B9;&#x6CD5;&#x3001;&#x4E00;&#x500B; fire &#x65B9;&#x6CD5;&#xFF0C;&#x9084;&#x6709;&#x4E00;&#x500B; private &#x4E8B;&#x4EF6;&#x767B;&#x8A18;&#x8655;&#xFF1A;</p>
<pre><code class="lang-sh">  var enentuality = <span class="pl-k">function</span> (that){
      vat registry = {};
      that.fire = <span class="pl-k">function</span> (event){
        // &#x5C0D;&#x7269;&#x4EF6;&#x767C;&#x51FA;&#x4E8B;&#x4EF6;&#xFF0C;&#x4E8B;&#x4EF6;&#x662F;&#x53EF;&#x4EE5;&#x5305;&#x542B;&#x4E8B;&#x4EF6;&#x540D;&#x7A31;&#x7684;&#x5B57;&#x4E32;&#xFF0C;&#x6216;&#x662F;&#x4E00;&#x500B;&#x7269;&#x4EF6;&#xFF0C;
        // &#x8A72;&#x7269;&#x4EF6;&#x88E1;&#x5305;&#x542B;&#x7684; <span class="pl-c1">type</span> &#x7279;&#x6027;&#xFF0C;&#x4FDD;&#x5B58;&#x4E86;&#x4E8B;&#x4EF6;&#x540D;&#x7A31;&#x3002;
        // &#x8655;&#x88E1;&#x5668;&#x7531; on &#x65B9;&#x6CD5;&#x767B;&#x8A18;&#xFF0C;
        // &#x5176;&#x4E2D;&#x7B26;&#x5408;&#x4E8B;&#x4EF6;&#x540D;&#x7A31;&#x7684;&#x8655;&#x88E1;&#x5668;&#x5C07;&#x88AB;&#x547C;&#x53EB;
        
        var array,
            func,
            handler,
            i,
            <span class="pl-c1">type</span> = typeof event === <span class="pl-s">&apos;string&apos;</span> ? event : event.type; 
      
      // &#x5982;&#x679C;&#x4E8B;&#x4EF6;&#x6709;&#x500B;&#x8655;&#x88E1;&#x5668;&#x9663;&#x5217;&#xFF0C;&#x5247;&#x4EE5;&#x8FF4;&#x5708;&#x65B9;&#x5F0F;&#x8655;&#x88E1;&#x9663;&#x5217;&#xFF0C;&#x4E26;&#x4F9D;&#x5E8F;&#x57F7;&#x884C;&#x8655;&#x88E1;&#x5668;&#x3002;
      
         <span class="pl-k">if</span> (registry.hasOwnPreoperty(<span class="pl-c1">type</span>)){
             array = registry[<span class="pl-c1">type</span>];
             <span class="pl-k">for</span> (i = 0; i &lt; array.length; i += 1){
                  handler = array[i];
       // &#x8655;&#x88E1;&#x5668;&#x7684;&#x7D00;&#x9304;&#xFF0C;&#x5305;&#x542B;&#x4E00;&#x500B;&#x65B9;&#x6CD5;&#x8207;&#x4E00;&#x500B;&#x9078;&#x7528;&#x53C3;&#x6578;&#x9663;&#x5217;&#xFF0C;
       // &#x5982;&#x679C;&#x65B9;&#x6CD5;&#x662F;&#x500B;&#x540D;&#x7A31;&#xFF0C;&#x5247;&#x5C0B;&#x627E;&#x7B26;&#x5408;&#x8A72;&#x540D;&#x7A31;&#x7684;&#x51FD;&#x5F0F;           
                  func = handler.hethod;
                  <span class="pl-k">if</span> (typeof func === <span class="pl-s">&apos;string&apos;</span>){
                     func = this[func];
                  }
       // &#x547C;&#x53EB;&#x8655;&#x88E1;&#x5668;&#x3002;&#x5982;&#x679C;&#x7D00;&#x9304;&#x5305;&#x542B;&#x53C3;&#x6578;&#xFF0C;&#x5247;&#x50B3;&#x905E;&#x53C3;&#x6578;&#xFF0C;&#x5426;&#x5247;&#x50B3;&#x905E; event &#x7269;&#x4EF6;&#x3002;
                  func.apply(this,handler.paramerers || [event]);           
                  
             }
         }
        <span class="pl-c1">return</span> this;
      };
      that.on = <span class="pl-k">function</span> (<span class="pl-c1">type</span>,method,paramerers){
        // &#x767B;&#x8A18;&#x4E00;&#x500B;&#x4E8B;&#x4EF6;&#xFF08;event&#xFF09;&#x3002;&#x88FD;&#x4F5C;&#x8655;&#x88E1;&#x5668;&#x7D00;&#x9304;&#x3002;
        // &#x653E;&#x5165;&#x8655;&#x88E1;&#x5668;&#x9663;&#x5217;&#xFF0C;&#x5982;&#x679C;&#x985E;&#x578B;&#x4E8B;&#x4EF6;&#x5C1A;&#x672A;&#x5B58;&#x5728;&#xFF0C;&#x5247;&#x88FD;&#x9020;&#x4E00;&#x500B;&#x3002;
        var handler = {
            method : method,
            paramerers : paramerers
        };
        <span class="pl-k">if</span> (registry.hasOwnPreoperty(<span class="pl-c1">type</span>)){
            registry[<span class="pl-c1">type</span>].push(handler);
        } <span class="pl-k">else</span> {
            registry[<span class="pl-c1">type</span>] = [handler];
        } 
        <span class="pl-c1">return</span> this;
      };
      <span class="pl-c1">return</span> that;
  };
</code></pre>
<p>&#x6211;&#x5011;&#x53EF;&#x4EE5;&#x5728;&#x4EFB;&#x4F55;&#x7269;&#x4EF6;&#x88E1;&#x547C;&#x53EB; eventuality&#xFF0C;&#x7D66;&#x5B83;&#x4E8B;&#x4EF6;&#x8655;&#x88E1;&#x7684;&#x65B9;&#x6CD5;&#x3002;&#x6211;&#x5011;&#x4E5F;&#x53EF;&#x80FD;&#x56DE;&#x50B3; that &#x524D;&#xFF0C;&#x5728;&#x5EFA;&#x69CB;&#x5F0F;&#x88E1;&#x547C;&#x53EB; eventuality(that) &#x3002;&#x5982;&#x6B64;&#x4E00;&#x4F86;&#xFF0C;&#x5EFA;&#x69CB;&#x5F0F;&#x53EF;&#x5F9E;&#x4E00;&#x7D44;&#x96F6;&#x4EF6;&#x7D44;&#x5408;&#x51FA;&#x7269;&#x4EF6;&#x3002;JavaScript &#x7684;&#x5BEC;&#x9B06;&#x578B;&#x5225;&#x5728;&#x6B64;&#x5927;&#x6709;&#x76CA;&#x8655;&#xFF0C;&#x56E0;&#x70BA;&#x4E0D;&#x53D7;&#x578B;&#x5225;&#x7CFB;&#x7D71;&#x7684;&#x62D6;&#x7D2F;&#xFF0C;&#x6211;&#x5011;&#x53EF;&#x4EE5;&#x5C08;&#x5FC3;&#x8655;&#x88E1;&#x5167;&#x5BB9;&#x3002;<br>
&#x5982;&#x679C;&#x6211;&#x5011;&#x60F3;&#x8B93; eventuality &#x53D6;&#x7528;&#x7269;&#x4EF6;&#x7684; private &#x72C0;&#x614B;&#xFF0C;&#x5247;&#x53EF;&#x4EE5;&#x628A; my bundle &#x50B3;&#x904E;&#x53BB;&#x3002;</p>

        </div>
        <div class="footer-nav">
          <div class="left"><a href="4-Function.html"><span class="title">第四章：函式</span></a></div>
          <div class="right"><a href="6-Array.html"><span class="label">Next: </span><span class="title">第六章：陣列</span></a></div>
        </div>
      </div>
      <div class="menu toc-menu">
        <li class="menu-item -level-0 -parent">
          <ul class="submenu">
            <li class="menu-item -level-1"><a href="index.html" class="link title  link-index">JavaScript:優良部分 讀書紀錄</a>
            </li>
            <li class="menu-item -level-1"><a href="1-Good-Parts.html" class="link title  link-1-good-parts">第一章：優良部分</a>
            </li>
            <li class="menu-item -level-1"><a href="2-Grammar.html" class="link title  link-2-grammar">第二章：文法</a>
            </li>
            <li class="menu-item -level-1"><a href="3-Object.html" class="link title  link-3-object">第三章：物件</a>
            </li>
            <li class="menu-item -level-1"><a href="4-Function.html" class="link title  link-4-function">第四章：函式</a>
            </li>
            <li class="menu-item -level-1"><a href="5-Inheritance.html" class="link title -active link-5-inheritance">第五章：繼承</a>
            </li>
            <li class="menu-item -level-1"><a href="#5-1" class="link title link-5-1">5-1 擬類別繼承模式</a>
            </li>
            <li class="menu-item -level-1"><a href="#5-2" class="link title link-5-2">5-2 物件規格器繼承模式</a>
            </li>
            <li class="menu-item -level-1"><a href="#5-3" class="link title link-5-3">5-3 原型繼承模式</a>
            </li>
            <li class="menu-item -level-1"><a href="#5-4" class="link title link-5-4">5-4 函式繼承模式</a>
            </li>
            <li class="menu-item -level-1"><a href="#5-5" class="link title link-5-5">5-5 零件繼承模式</a>
            </li>
            <li class="menu-item -level-1"><a href="6-Array.html" class="link title  link-6-array">第六章：陣列</a>
            </li>
            <li class="menu-item -level-1"><a href="7-Regexp.html" class="link title  link-7-regexp">第七章：正規運算式</a>
            </li>
            <li class="menu-item -level-1"><a href="1-Good-Parts.html" class="link title  link-1-good-parts-2">第八章：方法</a>
            </li>
            <li class="menu-item -level-1"><a href="1-Good-Parts.html" class="link title  link-1-good-parts-3">第九章：風格</a>
            </li>
            <li class="menu-item -level-1"><a href="1-Good-Parts.html" class="link title  link-1-good-parts-4">第十章：美的功能</a>
            </li>
            <li class="menu-item -level-1"><a href="1-Good-Parts.html" class="link title  link-1-good-parts-5">附錄</a>
            </li>
          </ul>
        </li>
      </div>
    </div>
  </body>
</html>